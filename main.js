/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => OthTool
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var import_child_process = require("child_process");
var import_fs = require("fs");
var import_os = require("os");
var DEFAULT_SETTINGS = {
  pythonPath: "python3",
  othToolPath: "",
  mensaplanFile: "Mensaplan.md",
  cloneRepo: false,
  autoOpen: true,
  fetchOnFirstOpen: false,
  createVenv: false
};
var OthTool = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.oth_tool_repo_url = "https://github.com/Acoiny/oth-scrape-tool";
  }
  async onload() {
    await this.loadSettings();
    let vaultPath = "";
    if (this.app.vault.adapter instanceof import_obsidian.FileSystemAdapter) {
      vaultPath = this.app.vault.adapter.getBasePath();
    }
    this.vault_base_path = vaultPath;
    this.oth_tool_repo_path = vaultPath + "/" + this.manifest.dir + "/oth-scrape-tool";
    if (this.settings.cloneRepo) {
      this.updateRepo();
    }
    if (this.settings.fetchOnFirstOpen) {
      (0, import_fs.stat)(this.vault_base_path + "/" + this.settings.mensaplanFile, (err, stats) => {
        if (err) {
          console.log(err);
          this.fetchMensaplan("today");
          return;
        }
        const today = new Date();
        const modTime = stats.mtime;
        if (!(today.getFullYear() == modTime.getFullYear() && today.getMonth() == modTime.getMonth() && today.getDate() == modTime.getDate())) {
          this.fetchMensaplan("today");
        }
      });
    }
    this.addCommand({
      id: "fetch-oth-mensaplan-today",
      name: "Fetch today's OTH- Mensaplan",
      callback: () => {
        this.fetchMensaplan("today");
      }
    });
    this.addCommand({
      id: "fetch-oth-mensaplan-week",
      name: "Fetch this week's OTH- Mensaplan",
      callback: () => {
        this.fetchMensaplan("week");
      }
    });
    this.addCommand({
      id: "fetch-oth-mensaplan-next-week",
      name: "Fetch next week's OTH- Mensaplan",
      callback: () => {
        this.fetchMensaplan("nextWeek");
      }
    });
    this.addCommand({
      id: "clone-oth-scrape-tool",
      name: "Clone the oth-scrape-tool",
      callback: () => {
        this.updateRepo();
      }
    });
    this.addCommand({
      id: "remove-oth-scrape-tool",
      name: "Remove the cloned oth-scrape-tool",
      callback: () => {
        if ((0, import_fs.existsSync)(this.oth_tool_repo_path)) {
          (0, import_fs.rm)(this.oth_tool_repo_path, { force: true, recursive: true }, (error) => {
            if (error)
              new OthToolModal(this.app, `Unable to remove tool: ${error}`).open();
          });
        }
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
  }
  onunload() {
  }
  /**
   * Executes git pull inside the repo,
   * or freshly clones it if it isn't present
   */
  updateRepo() {
    if (!(0, import_fs.existsSync)(this.oth_tool_repo_path)) {
      this.cloneRepoIfNotExists();
      return;
    }
    const cmd = `cd ${this.oth_tool_repo_path} && git pull`;
    console.log(cmd);
    (0, import_child_process.exec)(cmd, (error, stdout, stderr) => {
      if (error) {
        new OthToolModal(this.app, `Error git pull: ${error}`).open();
        return;
      }
      console.log(stdout);
      if (stderr)
        console.error(stderr);
    });
  }
  cloneRepoIfNotExists() {
    if ((0, import_fs.existsSync)(this.oth_tool_repo_path))
      return;
    const cmd = `git clone ${this.oth_tool_repo_url} ${this.oth_tool_repo_path}`;
    (0, import_child_process.exec)(cmd, (error, stdout, stderr) => {
      if (error) {
        new OthToolModal(this.app, `Error on clone: ${error}`).open();
        return;
      }
      console.log(stdout);
      if (stderr)
        console.error(stderr);
    });
  }
  fetchMensaplan(mode) {
    let pythonPath = this.settings.pythonPath;
    if (this.settings.createVenv) {
      pythonPath = this.getVenvPath();
    }
    const mensaplan = this.settings.mensaplanFile;
    const time_flag = mode === "today" ? "-t" : mode === "nextWeek" ? "-n" : "";
    const cmd = `"${pythonPath}" "${this.oth_tool_repo_path + "/oth_tool.py"}" m -m ${time_flag} > "${this.vault_base_path + "/" + mensaplan}"`;
    console.log("Executing: ", cmd);
    (0, import_child_process.exec)(cmd, (error, stdout, stderr) => {
      if (error) {
        new OthToolModal(this.app, `Error on getting mensaplan: ${error}`).open();
        return;
      }
      console.log(stdout);
      if (stderr)
        console.error(stderr);
      if (this.settings.autoOpen) {
        const file = this.app.vault.getAbstractFileByPath(this.settings.mensaplanFile);
        if (file)
          this.app.workspace.openLinkText(this.settings.mensaplanFile, "", false);
      }
    });
  }
  createVenv() {
    const osPrefix = (0, import_os.platform)() === "win32" ? "/Scripts" : "/bin";
    const path = this.oth_tool_repo_path + "/venv";
    const pipPath = path + osPrefix + "/pip";
    const pythonPath = path + osPrefix + "/python3";
    if (!(0, import_fs.existsSync)(path)) {
      console.log(`Venv doesn't exist, executing:cd ${this.oth_tool_repo_path} &&					python -m venv venv &&					${pipPath} install -r ${this.oth_tool_repo_path + "/requirements.txt"}`);
      const res = (0, import_child_process.execSync)(`cd ${this.oth_tool_repo_path} &&					python -m venv venv &&					${pipPath} install -r ${this.oth_tool_repo_path + "/requirements.txt"}`);
    }
  }
  /**
  * Creates the venv if not present and then returns the path
  * to the python interpreter inside the venv
  */
  getVenvPath() {
    const osPrefix = (0, import_os.platform)() === "win32" ? "/Scripts" : "/bin";
    const path = this.oth_tool_repo_path + "/venv";
    try {
      this.createVenv();
    } catch (ex) {
      new OthToolModal(this.app, `Unable to create venv: ${ex}`).open();
      return "";
    }
    return path + osPrefix + "/python3";
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var OthToolModal = class extends import_obsidian.Modal {
  constructor(app, message) {
    super(app);
    this.message = message;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.setText(this.message);
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Python path").setDesc("Path to the python interpreter used to fetch the 				mensaplan. Can be inside a virtual environment (Recommended).").addText((text) => text.setPlaceholder("/path/to/python3").setValue(this.plugin.settings.pythonPath).onChange(async (value) => {
      this.plugin.settings.pythonPath = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Clone tool").setDesc("Automatically clone and pull new versions of the the oth-tool into this plugin's folder").addToggle((cp) => cp.setValue(this.plugin.settings.cloneRepo).onChange(async (value) => {
      this.plugin.settings.cloneRepo = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Auto open").setDesc("Automatically open the mensaplan after fetching it").addToggle((cp) => cp.setValue(this.plugin.settings.autoOpen).onChange(async (value) => {
      this.plugin.settings.autoOpen = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Fetch on open").setDesc("Fetches the mensaplan if no Mensaplan file from today has been found on opening obsidian").addToggle((cp) => cp.setValue(this.plugin.settings.fetchOnFirstOpen).onChange(async (value) => {
      this.plugin.settings.fetchOnFirstOpen = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Use virtual environment").setDesc("If true, the tool creates and uses a virtual environment").addToggle((cp) => cp.setValue(this.plugin.settings.createVenv).onChange(async (value) => {
      this.plugin.settings.createVenv = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Mensaplan.md").setDesc("Path to store the mensaplan inside the vault.").addText((text) => text.setPlaceholder("Mensaplan.md").setValue(this.plugin.settings.mensaplanFile).onChange(async (value) => {
      if (!value.endsWith(".md"))
        value += ".md";
      this.plugin.settings.mensaplanFile = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIEZpbGVTeXN0ZW1BZGFwdGVyLCBNYXJrZG93blZpZXcsIE1vZGFsLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XG5cbmltcG9ydCB7IGV4ZWMsIGV4ZWNTeW5jIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgeyBleGlzdHNTeW5jLCBybSwgc3RhdCB9IGZyb20gJ2ZzJztcbmltcG9ydCB7IHBsYXRmb3JtIH0gZnJvbSAnb3MnO1xuXG4vLyBSZW1lbWJlciB0byByZW5hbWUgdGhlc2UgY2xhc3NlcyBhbmQgaW50ZXJmYWNlcyFcblxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xuXHRweXRob25QYXRoOiBzdHJpbmc7XG5cdG90aFRvb2xQYXRoOiBzdHJpbmc7XG5cdG1lbnNhcGxhbkZpbGU6IHN0cmluZztcblx0Y2xvbmVSZXBvOiBib29sZWFuO1xuXHRhdXRvT3BlbjogYm9vbGVhbjsgLy8gYXV0b21hdGljYWxseSBvcGVuIHRoZSBtZW5zYXBsYW4gYWZ0ZXIgcHVsbGluZyBpdFxuXHRmZXRjaE9uRmlyc3RPcGVuOiBib29sZWFuOyAvLyBmZXRjaCB0aGUgbWVuc2FwbGFuLCBpZiBubyBtZW5zYXBsYW4gZmlsZSBmcm9tIHRvZGF5IGhhcyBiZWVuIGZvdW5kXG5cdGNyZWF0ZVZlbnY6IGJvb2xlYW47IC8vIGlmIHRydWUsIGNyZWF0ZXMgYSB2aXJ0dWFsIGVudmlyb25tZW50IGluc2lkZSB0aGUgcHVsbGVkIHRvb2xcbn1cblxuXG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XG5cdHB5dGhvblBhdGg6ICdweXRob24zJyxcblx0b3RoVG9vbFBhdGg6ICcnLFxuXHRtZW5zYXBsYW5GaWxlOiAnTWVuc2FwbGFuLm1kJyxcblx0Y2xvbmVSZXBvOiBmYWxzZSxcblx0YXV0b09wZW46IHRydWUsXG5cdGZldGNoT25GaXJzdE9wZW46IGZhbHNlLFxuXHRjcmVhdGVWZW52OiBmYWxzZSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3RoVG9vbCBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzO1xuXG5cdC8vIHBhdGggd2hlcmUgdGhlIG1lbnNhdG9vbCBzaG91bGQgYmUgY2xvbmVkIGludG9cblx0b3RoX3Rvb2xfcmVwb19wYXRoOiBzdHJpbmc7XG5cblx0dmF1bHRfYmFzZV9wYXRoOiBzdHJpbmc7XG5cblx0dmVudl9kYXRhOiB7IGJhc2VQYXRoOiBzdHJpbmcsIHB5dGhvbjogc3RyaW5nIH1cblxuXHRyZWFkb25seSBvdGhfdG9vbF9yZXBvX3VybDogc3RyaW5nID0gJ2h0dHBzOi8vZ2l0aHViLmNvbS9BY29pbnkvb3RoLXNjcmFwZS10b29sJztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdGxldCB2YXVsdFBhdGggPSAnJztcblx0XHRpZiAodGhpcy5hcHAudmF1bHQuYWRhcHRlciBpbnN0YW5jZW9mIEZpbGVTeXN0ZW1BZGFwdGVyKSB7XG5cdFx0XHR2YXVsdFBhdGggPSB0aGlzLmFwcC52YXVsdC5hZGFwdGVyLmdldEJhc2VQYXRoKCk7XG5cdFx0fVxuXHRcdHRoaXMudmF1bHRfYmFzZV9wYXRoID0gdmF1bHRQYXRoO1xuXG5cdFx0dGhpcy5vdGhfdG9vbF9yZXBvX3BhdGggPSB2YXVsdFBhdGggKyAnLycgKyB0aGlzLm1hbmlmZXN0LmRpciArICcvb3RoLXNjcmFwZS10b29sJztcblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmNsb25lUmVwbykge1xuXHRcdFx0dGhpcy51cGRhdGVSZXBvKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuZmV0Y2hPbkZpcnN0T3Blbikge1xuXHRcdFx0c3RhdCh0aGlzLnZhdWx0X2Jhc2VfcGF0aCArICcvJyArIHRoaXMuc2V0dGluZ3MubWVuc2FwbGFuRmlsZSwgKGVyciwgc3RhdHMpID0+IHtcblx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdC8vIGZpbGUgZG9lc24ndCBleGlzdCFcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xuXHRcdFx0XHRcdHRoaXMuZmV0Y2hNZW5zYXBsYW4oJ3RvZGF5Jyk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRjb25zdCBtb2RUaW1lID0gc3RhdHMubXRpbWU7XG5cblx0XHRcdFx0aWYgKCEodG9kYXkuZ2V0RnVsbFllYXIoKSA9PSBtb2RUaW1lLmdldEZ1bGxZZWFyKCkgJiZcblx0XHRcdFx0XHR0b2RheS5nZXRNb250aCgpID09IG1vZFRpbWUuZ2V0TW9udGgoKSAmJlxuXHRcdFx0XHRcdHRvZGF5LmdldERhdGUoKSA9PSBtb2RUaW1lLmdldERhdGUoKSkpIHtcblx0XHRcdFx0XHQvLyBOT1Qgb24gdGhlIHNhbWUgZGF5IVxuXHRcdFx0XHRcdHRoaXMuZmV0Y2hNZW5zYXBsYW4oJ3RvZGF5Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnZmV0Y2gtb3RoLW1lbnNhcGxhbi10b2RheScsXG5cdFx0XHRuYW1lOiAnRmV0Y2ggdG9kYXlcXCdzIE9USC0gTWVuc2FwbGFuJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuZmV0Y2hNZW5zYXBsYW4oJ3RvZGF5Jyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdmZXRjaC1vdGgtbWVuc2FwbGFuLXdlZWsnLFxuXHRcdFx0bmFtZTogJ0ZldGNoIHRoaXMgd2Vla1xcJ3MgT1RILSBNZW5zYXBsYW4nLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5mZXRjaE1lbnNhcGxhbignd2VlaycpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiAnZmV0Y2gtb3RoLW1lbnNhcGxhbi1uZXh0LXdlZWsnLFxuXHRcdFx0bmFtZTogJ0ZldGNoIG5leHQgd2Vla1xcJ3MgT1RILSBNZW5zYXBsYW4nLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5mZXRjaE1lbnNhcGxhbignbmV4dFdlZWsnKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2Nsb25lLW90aC1zY3JhcGUtdG9vbCcsXG5cdFx0XHRuYW1lOiAnQ2xvbmUgdGhlIG90aC1zY3JhcGUtdG9vbCcsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHR0aGlzLnVwZGF0ZVJlcG8oKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3JlbW92ZS1vdGgtc2NyYXBlLXRvb2wnLFxuXHRcdFx0bmFtZTogJ1JlbW92ZSB0aGUgY2xvbmVkIG90aC1zY3JhcGUtdG9vbCcsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRpZiAoZXhpc3RzU3luYyh0aGlzLm90aF90b29sX3JlcG9fcGF0aCkpIHtcblx0XHRcdFx0XHRybSh0aGlzLm90aF90b29sX3JlcG9fcGF0aCwgeyBmb3JjZTogdHJ1ZSwgcmVjdXJzaXZlOiB0cnVlIH0sIChlcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGVycm9yKVxuXHRcdFx0XHRcdFx0XHRuZXcgT3RoVG9vbE1vZGFsKHRoaXMuYXBwLCBgVW5hYmxlIHRvIHJlbW92ZSB0b29sOiAke2Vycm9yfWApLm9wZW4oKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTYW1wbGVTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblxuXHR9XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGVzIGdpdCBwdWxsIGluc2lkZSB0aGUgcmVwbyxcblx0ICogb3IgZnJlc2hseSBjbG9uZXMgaXQgaWYgaXQgaXNuJ3QgcHJlc2VudFxuXHQgKi9cblx0dXBkYXRlUmVwbygpIHtcblx0XHRpZiAoIWV4aXN0c1N5bmModGhpcy5vdGhfdG9vbF9yZXBvX3BhdGgpKSB7XG5cdFx0XHR0aGlzLmNsb25lUmVwb0lmTm90RXhpc3RzKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGNtZCA9IGBjZCAke3RoaXMub3RoX3Rvb2xfcmVwb19wYXRofSAmJiBnaXQgcHVsbGA7XG5cdFx0Y29uc29sZS5sb2coY21kKTtcblx0XHRleGVjKGNtZCwgKGVycm9yLCBzdGRvdXQsIHN0ZGVycikgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdG5ldyBPdGhUb29sTW9kYWwodGhpcy5hcHAsIGBFcnJvciBnaXQgcHVsbDogJHtlcnJvcn1gKS5vcGVuKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKHN0ZG91dCk7XG5cdFx0XHRpZiAoc3RkZXJyKVxuXHRcdFx0XHRjb25zb2xlLmVycm9yKHN0ZGVycik7XG5cdFx0fSk7XG5cdH1cblxuXHRjbG9uZVJlcG9JZk5vdEV4aXN0cygpIHtcblx0XHRpZiAoZXhpc3RzU3luYyh0aGlzLm90aF90b29sX3JlcG9fcGF0aCkpIHJldHVybjtcblxuXHRcdGNvbnN0IGNtZCA9IGBnaXQgY2xvbmUgJHt0aGlzLm90aF90b29sX3JlcG9fdXJsfSAke3RoaXMub3RoX3Rvb2xfcmVwb19wYXRofWA7XG5cblx0XHRleGVjKGNtZCwgKGVycm9yLCBzdGRvdXQsIHN0ZGVycikgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdG5ldyBPdGhUb29sTW9kYWwodGhpcy5hcHAsIGBFcnJvciBvbiBjbG9uZTogJHtlcnJvcn1gKS5vcGVuKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKHN0ZG91dCk7XG5cdFx0XHRpZiAoc3RkZXJyKVxuXHRcdFx0XHRjb25zb2xlLmVycm9yKHN0ZGVycik7XG5cdFx0fSk7XG5cblx0XHQvLyBub3cgY3JlYXRlIHRoZSB2ZW52XG5cdH1cblxuXHRmZXRjaE1lbnNhcGxhbihtb2RlOiAndG9kYXknIHwgJ3dlZWsnIHwgJ25leHRXZWVrJykge1xuXHRcdGxldCBweXRob25QYXRoID0gdGhpcy5zZXR0aW5ncy5weXRob25QYXRoO1xuXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuY3JlYXRlVmVudikge1xuXHRcdFx0cHl0aG9uUGF0aCA9IHRoaXMuZ2V0VmVudlBhdGgoKTtcblx0XHR9XG5cblx0XHRjb25zdCBtZW5zYXBsYW4gPSB0aGlzLnNldHRpbmdzLm1lbnNhcGxhbkZpbGU7XG5cblx0XHRjb25zdCB0aW1lX2ZsYWcgPSBtb2RlID09PSAndG9kYXknID9cblx0XHRcdCctdCcgOlxuXHRcdFx0KG1vZGUgPT09ICduZXh0V2VlaycgP1xuXHRcdFx0XHQnLW4nIDogJycpO1xuXG5cdFx0Y29uc3QgY21kID0gYFwiJHtweXRob25QYXRofVwiIFwiJHt0aGlzLm90aF90b29sX3JlcG9fcGF0aCArICcvb3RoX3Rvb2wucHknfVwiIG0gLW0gJHt0aW1lX2ZsYWd9ID4gXCIke3RoaXMudmF1bHRfYmFzZV9wYXRoICsgJy8nICsgbWVuc2FwbGFufVwiYFxuXHRcdGNvbnNvbGUubG9nKFwiRXhlY3V0aW5nOiBcIiwgY21kKTtcblx0XHRleGVjKGNtZCwgKGVycm9yLCBzdGRvdXQsIHN0ZGVycikgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdG5ldyBPdGhUb29sTW9kYWwodGhpcy5hcHAsIGBFcnJvciBvbiBnZXR0aW5nIG1lbnNhcGxhbjogJHtlcnJvcn1gKS5vcGVuKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc29sZS5sb2coc3Rkb3V0KTtcblx0XHRcdGlmIChzdGRlcnIpXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3Ioc3RkZXJyKTtcblxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuYXV0b09wZW4pIHtcblx0XHRcdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLm1lbnNhcGxhbkZpbGUpO1xuXHRcdFx0XHRpZiAoZmlsZSlcblx0XHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub3BlbkxpbmtUZXh0KHRoaXMuc2V0dGluZ3MubWVuc2FwbGFuRmlsZSwgJycsIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlVmVudigpIHtcblx0XHRjb25zdCBvc1ByZWZpeCA9IHBsYXRmb3JtKCkgPT09ICd3aW4zMicgP1xuXHRcdFx0Jy9TY3JpcHRzJyA6XG5cdFx0XHQnL2Jpbic7XG5cdFx0Y29uc3QgcGF0aCA9IHRoaXMub3RoX3Rvb2xfcmVwb19wYXRoICsgJy92ZW52JztcblxuXHRcdGNvbnN0IHBpcFBhdGggPSBwYXRoICsgb3NQcmVmaXggKyAnL3BpcCc7XG5cdFx0Y29uc3QgcHl0aG9uUGF0aCA9IHBhdGggKyBvc1ByZWZpeCArICcvcHl0aG9uMyc7XG5cblx0XHRpZiAoIWV4aXN0c1N5bmMocGF0aCkpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiVmVudiBkb2Vzbid0IGV4aXN0LCBleGVjdXRpbmc6XCIgKyBgY2QgJHt0aGlzLm90aF90b29sX3JlcG9fcGF0aH0gJiZcXFxuXHRcdFx0XHRcdHB5dGhvbiAtbSB2ZW52IHZlbnYgJiZcXFxuXHRcdFx0XHRcdCR7cGlwUGF0aH0gaW5zdGFsbCAtciAke3RoaXMub3RoX3Rvb2xfcmVwb19wYXRoICsgJy9yZXF1aXJlbWVudHMudHh0J31gKTtcblx0XHRcdGNvbnN0IHJlcyA9IGV4ZWNTeW5jKGBjZCAke3RoaXMub3RoX3Rvb2xfcmVwb19wYXRofSAmJlxcXG5cdFx0XHRcdFx0cHl0aG9uIC1tIHZlbnYgdmVudiAmJlxcXG5cdFx0XHRcdFx0JHtwaXBQYXRofSBpbnN0YWxsIC1yICR7dGhpcy5vdGhfdG9vbF9yZXBvX3BhdGggKyAnL3JlcXVpcmVtZW50cy50eHQnfWApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIENyZWF0ZXMgdGhlIHZlbnYgaWYgbm90IHByZXNlbnQgYW5kIHRoZW4gcmV0dXJucyB0aGUgcGF0aFxuXHQqIHRvIHRoZSBweXRob24gaW50ZXJwcmV0ZXIgaW5zaWRlIHRoZSB2ZW52XG5cdCovXG5cdGdldFZlbnZQYXRoKCk6IHN0cmluZyB7XG5cdFx0Y29uc3Qgb3NQcmVmaXggPSBwbGF0Zm9ybSgpID09PSAnd2luMzInID9cblx0XHRcdCcvU2NyaXB0cycgOlxuXHRcdFx0Jy9iaW4nO1xuXHRcdGNvbnN0IHBhdGggPSB0aGlzLm90aF90b29sX3JlcG9fcGF0aCArICcvdmVudic7XG5cblx0XHQvLyBjcmVhdGluZyB0aGUgdmlydHVhbCBlbnZpcm9ubWVudCBpZiBub3QgcHJlc2VudFxuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmNyZWF0ZVZlbnYoKTtcblx0XHR9IGNhdGNoIChleCkge1xuXHRcdFx0bmV3IE90aFRvb2xNb2RhbCh0aGlzLmFwcCwgYFVuYWJsZSB0byBjcmVhdGUgdmVudjogJHtleH1gKS5vcGVuKCk7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhdGggKyBvc1ByZWZpeCArICcvcHl0aG9uMyc7XG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5cbmNsYXNzIE90aFRvb2xNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0bWVzc2FnZTogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLnNldFRleHQodGhpcy5tZXNzYWdlKTtcblx0fVxuXG5cdG9uQ2xvc2UoKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cdH1cbn1cblxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IE90aFRvb2w7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogT3RoVG9vbCkge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdQeXRob24gcGF0aCcpXG5cdFx0XHQuc2V0RGVzYygnUGF0aCB0byB0aGUgcHl0aG9uIGludGVycHJldGVyIHVzZWQgdG8gZmV0Y2ggdGhlIFxcXG5cdFx0XHRcdG1lbnNhcGxhbi4gQ2FuIGJlIGluc2lkZSBhIHZpcnR1YWwgZW52aXJvbm1lbnQgKFJlY29tbWVuZGVkKS4nKVxuXHRcdFx0LmFkZFRleHQodGV4dCA9PiB0ZXh0XG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignL3BhdGgvdG8vcHl0aG9uMycpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5weXRob25QYXRoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucHl0aG9uUGF0aCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdDbG9uZSB0b29sJylcblx0XHRcdC5zZXREZXNjKCdBdXRvbWF0aWNhbGx5IGNsb25lIGFuZCBwdWxsIG5ldyB2ZXJzaW9ucyBvZiB0aGUgdGhlIG90aC10b29sIGludG8gdGhpcyBwbHVnaW5cXCdzIGZvbGRlcicpXG5cdFx0XHQuYWRkVG9nZ2xlKGNwID0+IGNwXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jbG9uZVJlcG8pXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2xvbmVSZXBvID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0F1dG8gb3BlbicpXG5cdFx0XHQuc2V0RGVzYygnQXV0b21hdGljYWxseSBvcGVuIHRoZSBtZW5zYXBsYW4gYWZ0ZXIgZmV0Y2hpbmcgaXQnKVxuXHRcdFx0LmFkZFRvZ2dsZShjcCA9PiBjcFxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b09wZW4pXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b09wZW4gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRmV0Y2ggb24gb3BlbicpXG5cdFx0XHQuc2V0RGVzYygnRmV0Y2hlcyB0aGUgbWVuc2FwbGFuIGlmIG5vIE1lbnNhcGxhbiBmaWxlIGZyb20gdG9kYXkgaGFzIGJlZW4gZm91bmQgb24gb3BlbmluZyBvYnNpZGlhbicpXG5cdFx0XHQuYWRkVG9nZ2xlKGNwID0+IGNwXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mZXRjaE9uRmlyc3RPcGVuKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgdmFsdWUgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZldGNoT25GaXJzdE9wZW4gPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnVXNlIHZpcnR1YWwgZW52aXJvbm1lbnQnKVxuXHRcdFx0LnNldERlc2MoJ0lmIHRydWUsIHRoZSB0b29sIGNyZWF0ZXMgYW5kIHVzZXMgYSB2aXJ0dWFsIGVudmlyb25tZW50Jylcblx0XHRcdC5hZGRUb2dnbGUoY3AgPT4gY3Bcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNyZWF0ZVZlbnYpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY3JlYXRlVmVudiA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdNZW5zYXBsYW4ubWQnKVxuXHRcdFx0LnNldERlc2MoJ1BhdGggdG8gc3RvcmUgdGhlIG1lbnNhcGxhbiBpbnNpZGUgdGhlIHZhdWx0LicpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdNZW5zYXBsYW4ubWQnKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubWVuc2FwbGFuRmlsZSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdC8vIG1ha2Ugc3VyZSB0aGUgdmFsdWUgcGF0aCBlbmRzIHdpdGggJy5tZCdcblx0XHRcdFx0XHRpZiAoIXZhbHVlLmVuZHNXaXRoKCcubWQnKSlcblx0XHRcdFx0XHRcdHZhbHVlICs9ICcubWQnO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1lbnNhcGxhbkZpbGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSkpO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQXNIO0FBRXRILDJCQUErQjtBQUMvQixnQkFBcUM7QUFDckMsZ0JBQXlCO0FBZ0J6QixJQUFNLG1CQUFxQztBQUFBLEVBQzFDLFlBQVk7QUFBQSxFQUNaLGFBQWE7QUFBQSxFQUNiLGVBQWU7QUFBQSxFQUNmLFdBQVc7QUFBQSxFQUNYLFVBQVU7QUFBQSxFQUNWLGtCQUFrQjtBQUFBLEVBQ2xCLFlBQVk7QUFDYjtBQUVBLElBQXFCLFVBQXJCLGNBQXFDLHVCQUFPO0FBQUEsRUFBNUM7QUFBQTtBQVVDLFNBQVMsb0JBQTRCO0FBQUE7QUFBQSxFQUVyQyxNQUFNLFNBQVM7QUFDZCxVQUFNLEtBQUssYUFBYTtBQUV4QixRQUFJLFlBQVk7QUFDaEIsUUFBSSxLQUFLLElBQUksTUFBTSxtQkFBbUIsbUNBQW1CO0FBQ3hELGtCQUFZLEtBQUssSUFBSSxNQUFNLFFB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
